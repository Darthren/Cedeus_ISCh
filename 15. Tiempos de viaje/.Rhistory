-5--12
3--4
sin(40)
sin(40)*8
cos(40)*8
sin(80)*6
cos(80)*6
8*cos(320)+6*cos(100)
(8*cos(320))+(6*cos(100))
6*cos(100)
cos(100)
8*cos(320)
?cos
8*cos(320*pi/120)
o <- pi/120
8*cos(320*o)
8cos(30)
8*cos(320*o)
8*cos(320*o)+6*cos(100*o)
(8*cos(320*o))+(6*cos(100*o))
6*cos(100*pi/120)
6*cos(100*o)
6*sin(100*o)
o <- pi/180
(8*cos(320*o))+(6*cos(100*o))
8*sin(320*o)+6*sin(100*o)
8*sin(40*o)+6*sin(10*o)
100+90
90+80
+10
8*sin(40*o)+6*sin(80*o)
magnitude <- function(a,b, aa, ab, operation){
if (operation == "-"){
v <- a*sin(aa*o) - b*sin(ab*o)
} else if (operation == "+"){
w <- a*cos(aa*o) + b*cos(ab*o)
}
return(c(v,w))
}
magnitude(5,8,170,300,"+")
if (operation == "-"){
v <- a*sin(aa*o) - b*sin(ab*o)
w <- a*cos(aa*o) - b*cos(ab*o)
} else if (operation == "+"){
w <- a*cos(aa*o) + b*cos(ab*o)
v <- a*sin(aa*o) - b*sin(ab*o)
}
o <- pi/180
magnitude <- function(a,b, aa, ab, operation){
if (operation == "-"){
v <- a*sin(aa*o) - b*sin(ab*o)
w <- a*cos(aa*o) - b*cos(ab*o)
} else if (operation == "+"){
w <- a*cos(aa*o) + b*cos(ab*o)
v <- a*sin(aa*o) - b*sin(ab*o)
}
return(c(v,w))
}
magnitude(5,8,170,300,"+")
magnitude <- function(a,b, aa, ab, operation){
if (operation == "-"){
v <- a*cos(aa*o) - b*cos(ab*o)
w <- a*sin(aa*o) - b*sin(ab*o)
} else if (operation == "+"){
v <- a*cos(aa*o) + b*cos(ab*o)
w <- a*sin(aa*o) - b*sin(ab*o)
}
return(c(v,w))
}
magnitude(5,8,170,300,"+")
5*sin(170*o) + 8*sin(300*o)
a <- 5
b <- 8
ab <- 170
ab <- 300
aa <- 170
o <- pi/180
magnitude <- function(a,b, aa, ab, operation){
if (operation == "-"){
v <- a*cos(aa*o) - b*cos(ab*o)
w <- a*sin(aa*o) - b*sin(ab*o)
} else if (operation == "+"){
v <- a*cos(aa*o) + b*cos(ab*o)
w <- a*sin(aa*o) + b*sin(ab*o)
}
return(c(v,w))
}
magnitude(5,8,170,300)
magnitude(5,8,170,300, "+")
magnitude(8,5,30,160,"+")
magnitude(7,5,100,290)
magnitude(7,5,100,290, "+")
magnitude(5,70,6,160,"+")
magnitude(5,6,70,160,"+")
?setClass
viajes <- read.csv("Cedeus_ISCh/Cedeus_ISCh/14. Partición Modal/Raw Data/Copiapo_viajes.csv")
View(viajes)
viajes <- read.csv("Cedeus_ISCh/Cedeus_ISCh/14. Partición Modal/Raw Data/Copiapo_viajes.csv", sep = ";")
View(viajes)
setwd("C:/Users/Rodrigo Villegas/Documents/Cedeus_ISCh/Cedeus_ISCh/15. Tiempos de viaje/")
Corrector.nombre <- function(dataset, nombres, variable.buscar, variable.cambiar, exact.match = F){
if (exact.match == T){
colname <- grep(paste("^", variable.buscar, "$", sep = ""), nombres, ignore.case = T)
} else {
colname <- grep(variable.buscar, nombres, ignore.case = T)
}
if (colnames(dataset)[colname] != variable.cambiar){
colnames(dataset)[colname] <- variable.cambiar
}
return(dataset)
}
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
return(Tabla_EOD)
}
test <- Estandarizador(viajes,
c("hogar", "persona", "viaje", "Factor"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
return(Tabla_EOD)
}
test <- Estandarizador(viajes,
c("hogar", "persona", "viaje", "Factor"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
Corrector.nombre(viajes, colnames(viajes), "hogar", "IDFolio")
colnames(viajes)
colname <- grep("hogar", colnames(viajes), ignore.case = T)
test <- Estandarizador(viajes,
c("folio", "persona", "viaje", "Factor"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
"*" %in% "Factor*"
"*" %in% "*Factor"
grep("*", "Factor*")
grepl("*", "Factor*")
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
}
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
return(Tabla_EOD)
}
tmp.viajes <- Corrector.nombre(tmp.viajes, colnames(tmp.viajes), "persona", "IDPersona") %>%
Corrector.nombre(colnames(tmp.viajes), "hogar", "IDFolio") %>%
Corrector.nombre(colnames(tmp.viajes), "viaje", "IDViaje", exact.match = T) %>%
Corrector.nombre(colnames(tmp.viajes), "LaboralNormal", "Factor_Viaje") %>%
subset(select = c("IDFolio",  "IDPersona", "IDViaje", "TiempoViaje", "Factor_Viaje", "IDModo"))
viajes <- read.csv("Cedeus_ISCh/Cedeus_ISCh/14. Partición Modal/Raw Data/Copiapo_viajes.csv", sep = ";")
test <- Estandarizador(viajes,
c("folio", "persona", "viaje", "Factor*"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
}
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
return(Tabla_EOD)
}
tmp.viajes <- Corrector.nombre(tmp.viajes, colnames(tmp.viajes), "persona", "IDPersona") %>%
Corrector.nombre(colnames(tmp.viajes), "hogar", "IDFolio") %>%
Corrector.nombre(colnames(tmp.viajes), "viaje", "IDViaje", exact.match = T) %>%
Corrector.nombre(colnames(tmp.viajes), "LaboralNormal", "Factor_Viaje") %>%
subset(select = c("IDFolio",  "IDPersona", "IDViaje", "TiempoViaje", "Factor_Viaje", "IDModo"))
viajes <- read.csv("Cedeus_ISCh/Cedeus_ISCh/14. Partición Modal/Raw Data/Copiapo_viajes.csv", sep = ";")
test <- Estandarizador(viajes,
c("folio", "persona", "viaje", "Factor*"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
}
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
return(Tabla_EOD)
}
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
}
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
return(Tabla_EOD)
}
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
} else {
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
}
return(Tabla_EOD)
}
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
} else {
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
}
return(Tabla_EOD)
}
tmp.viajes <- Corrector.nombre(tmp.viajes, colnames(tmp.viajes), "persona", "IDPersona") %>%
Corrector.nombre(colnames(tmp.viajes), "hogar", "IDFolio") %>%
Corrector.nombre(colnames(tmp.viajes), "viaje", "IDViaje", exact.match = T) %>%
Corrector.nombre(colnames(tmp.viajes), "LaboralNormal", "Factor_Viaje") %>%
subset(select = c("IDFolio",  "IDPersona", "IDViaje", "TiempoViaje", "Factor_Viaje", "IDModo"))
viajes <- read.csv("Cedeus_ISCh/Cedeus_ISCh/14. Partición Modal/Raw Data/Copiapo_viajes.csv", sep = ";")
test <- Estandarizador(viajes,
c("folio", "persona", "viaje", "Factor*"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
} else {
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
}
return(Tabla_EOD)
}
tmp.viajes <- Corrector.nombre(tmp.viajes, colnames(tmp.viajes), "persona", "IDPersona") %>%
Corrector.nombre(colnames(tmp.viajes), "hogar", "IDFolio") %>%
Corrector.nombre(colnames(tmp.viajes), "viaje", "IDViaje", exact.match = T) %>%
Corrector.nombre(colnames(tmp.viajes), "LaboralNormal", "Factor_Viaje") %>%
subset(select = c("IDFolio",  "IDPersona", "IDViaje", "TiempoViaje", "Factor_Viaje", "IDModo"))
viajes <- read.csv("Cedeus_ISCh/Cedeus_ISCh/14. Partición Modal/Raw Data/Copiapo_viajes.csv", sep = ";")
test <- Estandarizador(viajes,
c("folio", "persona", "viaje", "Factor*"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
} else {
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
}
return(Tabla_EOD)
}
tmp.viajes <- Corrector.nombre(tmp.viajes, colnames(tmp.viajes), "persona", "IDPersona") %>%
Corrector.nombre(colnames(tmp.viajes), "hogar", "IDFolio") %>%
Corrector.nombre(colnames(tmp.viajes), "viaje", "IDViaje", exact.match = T) %>%
Corrector.nombre(colnames(tmp.viajes), "LaboralNormal", "Factor_Viaje") %>%
subset(select = c("IDFolio",  "IDPersona", "IDViaje", "TiempoViaje", "Factor_Viaje", "IDModo"))
viajes <- read.csv("Cedeus_ISCh/Cedeus_ISCh/14. Partición Modal/Raw Data/Copiapo_viajes.csv", sep = ";")
test <- Estandarizador(viajes,
c("folio", "persona", "viaje", "Factor*"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
} else {
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
}
return(Tabla_EOD)
}
viajes <- read.csv("Cedeus_ISCh/Cedeus_ISCh/14. Partición Modal/Raw Data/Copiapo_viajes.csv", sep = ";")
test <- Estandarizador(viajes,
c("folio", "persona", "viaje", "Factor*"),
c("IDFolio", "IDPersona", "IDViaje", "Factor_Viaje"))
Estandarizador <- function(Tabla_EOD, variables.buscar, variables.cambiar){
for (i in seq(variables.buscar)){
print(variables.buscar[i])
if (grepl("*", variables.buscar[i]){
variables.buscar[i] <- gsub("*", "", variables.buscar[i])
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i], exact.match = T)
} else {
Tabla_EOD <- Corrector.nombre(Tabla_EOD, colnames(Tabla_EOD), variables.buscar[i], variables.cambiar[i])
}
}
return(Tabla_EOD)
}
